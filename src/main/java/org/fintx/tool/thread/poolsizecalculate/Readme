from http://ifeve.com/how-to-calculate-threadpool-size/